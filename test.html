<!DOCTYPE html>
<html>
<head>
    <title>Test</title>
</head>
<body>
    <button id="favorite-btn" data-movie-id="123">Add to Favorites</button>

    <script>
        function toggleFavorite(event) {
            event.stopPropagation();
            console.log("Button clicked!");
            fetch("/movies/toggle_favorite/", {
                method: "POST",
                headers: {
                    "X-CSRFToken": "your_csrf_token", // Replace with your CSRF token
                    "Content-Type": "application/x-www-form-urlencoded"
                },
                body: "movie_id=123"
            }).then(response => console.log(response));
        }

        document.getElementById("favorite-btn").addEventListener("click", toggleFavorite);
    </script>
</body>
</html>